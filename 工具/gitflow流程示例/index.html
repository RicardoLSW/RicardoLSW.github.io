<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>gitflow流程示例 - 让我留在你身边</title>
<meta name="description" content="分支管理  ">


  <meta name="author" content="Ricardo">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="让我留在你身边">
<meta property="og:title" content="gitflow流程示例">
<meta property="og:url" content="/%E5%B7%A5%E5%85%B7/gitflow%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B/">


  <meta property="og:description" content="分支管理  ">







  <meta property="article:published_time" content="2021-07-19T00:00:00+00:00">



  <meta property="article:modified_time" content="2021-07-19T14:36:16+00:00">




<link rel="canonical" href="/%E5%B7%A5%E5%85%B7/gitflow%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="让我留在你身边 Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          让我留在你身边
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">年度</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">类别</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">标签</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">关于</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt="Ricardo" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Ricardo</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>吾十有五，而志于学</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://twitter.com/LswRicardo" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/RicardoLSW" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/_ricardolsw" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="gitflow流程示例">
    <meta itemprop="description" content="分支管理">
    <meta itemprop="datePublished" content="2021-07-19T00:00:00+00:00">
    <meta itemprop="dateModified" content="2021-07-19T14:36:16+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">gitflow流程示例
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <h3 id="分支管理">分支管理</h3>

<h3 id="分支命名">分支命名</h3>

<h4 id="master-分支">master 分支</h4>

<ul>
  <li>master 分支为主分支，用于部署生产环境，需要确保master分支的稳定性。</li>
  <li>此分支属于只读分支，只能从 release 分支合并过来，任何时候都不能在此分支修改代码。</li>
  <li>所有向master分支的推送，都要打上tag标签记录，方便追溯。</li>
  <li>此分支只能前进，不能有回退操作。</li>
</ul>

<h4 id="hotfix-分支">hotfix/* 分支</h4>

<ul>
  <li>生产环境 bug 修复分支，基于 master 分支检出。</li>
  <li>属于临时分支，当生产环境出现 bug ，管理员基于 tag 创建 hotfix/<bug名字> 分支、 release/<版本号> 分支，由开发人员在hotfix分支修复bug，修复完成后，并且在开发集成环境自测通过、单元测试通过、Sona扫描通过后，再向 release 分支提交 pull request 申请。bug修复完成上线之后可删除此分支。</版本号></bug名字></li>
</ul>

<h4 id="release-分支">release/* 分支</h4>

<ul>
  <li>release 分支为预上线分支，基于 develop 或 master 分支检出。用于准备发布新阶段版本或者修复线上bug版本。</li>
  <li>此分支用于上线前bug测试，文档生成和其他面向发布任务。</li>
  <li>此分支属于只读分支，只能由 master 分支或者 develop 分支检出，或者从 bugfix 分支、hotfix 分支合并过来，任何时候都不能在此分支修改代码。</li>
  <li>此分支属于临时分支，在发布提测阶段，会以 release 分支代码为基准提测。当 release 分支测试验证通过后，最终会先被合并到 master 分支（发布新版本或者修复线上bug，要打tag标签），再被合并到 develop 分支（使其与 master 分支保持一致），最后删除此分支。</li>
  <li>命名：release/<版本号>（例：release/1.0.0）</版本号></li>
</ul>

<h4 id="bugfix-分支">bugfix/* 分支</h4>

<ul>
  <li>预上线 bug 修复分支，基于 release 分支检出。</li>
  <li>此分支用于上线前bug修复。</li>
  <li>此分支属于临时分支，当提测阶段中存在 bug 需要修复，由开发人员基于 release 分支创建 bugfix/<bug名字> 分支，然后在 bugfix/<bug名字> 分支进行修复 bug 。 bug 修复完成后，并且在开发集成环境自测通过、单元测试通过、Sona扫描通过后，再向 release 分支提交 pull request 申请。bug修复完成 release 分支测试通过之后可删除此分支。</bug名字></bug名字></li>
</ul>

<h4 id="develop-分支">develop 分支</h4>

<ul>
  <li>develop 为开发环境主干分支，基于 master 分支检出。</li>
  <li>此分支为只读分支，只能从master、release、feature分支合并过来，任何时候都不能在此分支修改代码。</li>
  <li>此分支只能由开发人员提交 pull request（需要 code review），或者由管理员 merge release 分支。</li>
  <li>在一个 release 分支没有创建出来时，develop 分支不能合并不包含 release 功能范围的  feature 分支。develop 分支在特殊情况下可以回退版本。</li>
</ul>

<h4 id="feature-分支">feature/* 分支</h4>

<ul>
  <li>feature 分支为功能开发分支，由开发人员基于 develop 分支创建 feature/<功能模块> 分支。</功能模块></li>
  <li>此分支用于新功能开发，一个 feature 分支最大粒度只能到模块。</li>
  <li>此分支为临时分支，最终会被合并到 develop 分支（新增功能），或者删除（放弃功能）。</li>
  <li>此分支通常仅存在于开发人员本地存储库中，而不存在与远程origin。</li>
  <li>一个新功能开发完成后，且在开发集成环境自测通过、单元测试通过、Sona扫描通过后，才能向 develop 分支提交 pull request （需要 code review）。</li>
</ul>

<h2 id="git版本号">git版本号</h2>

<p>git采用的是三位不版本号：主版本号.次版本号.修订号</p>

<ul>
  <li>主版本号：做了一些不兼容的API修改，可以理解为一个大的产品更新。</li>
  <li>次版本号：新增了一些功能，可以理解为合并了一个feature。</li>
  <li>修订号：修复了一些bug，可以理解为合并了一个hotfix。</li>
</ul>

<p>同样版本号后面也可以版本名称，例如：v1.0.0-beta.1</p>

<table>
  <thead>
    <tr>
      <th>版本名称</th>
      <th>介绍</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>alpha</td>
      <td>内测版</td>
      <td>内部测试版本</td>
    </tr>
    <tr>
      <td>beta</td>
      <td>公测版</td>
      <td>Beta阶段会一直加入新的功能</td>
    </tr>
    <tr>
      <td>RC</td>
      <td>候选版</td>
      <td>几乎就不会加入新的功能了，而主要着重于除错</td>
    </tr>
    <tr>
      <td>Release</td>
      <td>正式版</td>
      <td>稳定版本</td>
    </tr>
  </tbody>
</table>

<h2 id="规范commit信息">规范Commit信息</h2>

<p>当我们的代码库由很多人维护时，经常会出现代码风格不一致或者代码质量不过关，提交信息紊乱的情况，当然啦，即使是一个人的代码库，有的时候，自己写代码时不太注意细节，也会出现风格不一致的情况。</p>

<p>首先，看下 <code class="language-plaintext highlighter-rouge">vue-next</code> 的代码库的 <code class="language-plaintext highlighter-rouge">commit</code> 记录，如图：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901104716121.png" alt="image-20200901104716121" /></p>

<p>它的基本格式如下：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;类型&gt;[可选的作用域]: &lt;描述&gt;

[可选的正文]

[可选的脚注]
</code></pre></div></div>

<p>安装<code class="language-plaintext highlighter-rouge">commitizen</code>、<code class="language-plaintext highlighter-rouge">cz-conventional-changelog</code>需要node环境，全局安装：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-g</span> commitizen cz-conventional-changelog
<span class="nb">echo</span> <span class="s1">'{ "path": "cz-conventional-changelog" }'</span> <span class="o">&gt;</span> ~/.czrc
</code></pre></div></div>

<blockquote>
  <p>安装完毕后，可直接使用<code class="language-plaintext highlighter-rouge">git cz</code>来取代<code class="language-plaintext highlighter-rouge">git commit</code>。</p>

  <p>全局模式下，需要 <code class="language-plaintext highlighter-rouge">~/.czrc</code> 配置文件, 为<code class="language-plaintext highlighter-rouge">commitizen</code>指定<code class="language-plaintext highlighter-rouge">Adapter</code>。</p>
</blockquote>

<p>此刻开始，请使用 <code class="language-plaintext highlighter-rouge">git cz</code> 来替代 <code class="language-plaintext highlighter-rouge">git commit</code> 提交信息，使用 <code class="language-plaintext highlighter-rouge">git cz</code> 来进行填写 <code class="language-plaintext highlighter-rouge">commit</code> 的内容，根据提示依次填写：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.Select the type of change that you're committing 选择改动类型 (&lt;type&gt;)

2.What is the scope of this change (e.g. component or file name)? 填写改动范围 (&lt;scope&gt;)

3.Write a short, imperative tense description of the change: 写一个精简的描述 (&lt;subject&gt;)

4.Provide a longer description of the change: (press enter to skip) 对于改动写一段长描述 (&lt;body&gt;)

5.Are there any breaking changes? (y/n) 是破坏性修改吗？默认n (&lt;footer&gt;)

6.Does this change affect any openreve issues? (y/n) 改动修复了哪个问题？默认n (&lt;footer&gt;)
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">git cz</code> 的 <code class="language-plaintext highlighter-rouge">type</code> 说明：</p>

<table>
  <thead>
    <tr>
      <th>值</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>feat</td>
      <td>新增一个功能</td>
    </tr>
    <tr>
      <td>fix</td>
      <td>修复一个bug</td>
    </tr>
    <tr>
      <td>docs</td>
      <td>文档变更</td>
    </tr>
    <tr>
      <td>style</td>
      <td>代码格式（不影响功能，例如空格、分号等格式修正）</td>
    </tr>
    <tr>
      <td>refactor</td>
      <td>代码重构</td>
    </tr>
    <tr>
      <td>perf</td>
      <td>改善性能</td>
    </tr>
    <tr>
      <td>test</td>
      <td>测试</td>
    </tr>
    <tr>
      <td>build</td>
      <td>变更项目构建或外部依赖（例如scopes: webpack、gulp、npm等）</td>
    </tr>
    <tr>
      <td>ci</td>
      <td>更改持续集成软件的配置文件和package中的script命令，例如scopes: Travis、Circle等</td>
    </tr>
    <tr>
      <td>chore</td>
      <td>变更构建流程或辅助工具</td>
    </tr>
    <tr>
      <td>revert</td>
      <td>代码回退</td>
    </tr>
  </tbody>
</table>

<p>此时，我们现在已经可以规范提交信息了。</p>

<h2 id="创建仓库创建项目">创建仓库、创建项目</h2>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901103931941.png" alt="image-20200901103931941" /></p>

<p>前端项目搭建过程这里不再叙述</p>

<h2 id="前端通过配置git-hooks来规范commit信息">前端通过配置git hooks来规范Commit信息</h2>

<h3 id="安装以下依赖">安装以下依赖</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">-D</span> @commitlint/cli @commitlint/config-conventional husky
</code></pre></div></div>

<h3 id="在packagejson中新增以下字段">在package.json中新增以下字段</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"husky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"hooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"commit-msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"commitlint -E HUSKY_GIT_PARAMS"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">husky</code> 是 <code class="language-plaintext highlighter-rouge">git hook</code> 工具，使用 <code class="language-plaintext highlighter-rouge">husky</code>，我们可以方便的在 <code class="language-plaintext highlighter-rouge">package.json</code> 中配置 <code class="language-plaintext highlighter-rouge">git hook</code> 脚本，例如: <code class="language-plaintext highlighter-rouge">pre-commit</code>、 <code class="language-plaintext highlighter-rouge">pre-push</code>、 <code class="language-plaintext highlighter-rouge">commit-msg</code> 等的。</p>

<h3 id="创建-commitlintconfigjs-文件">创建 commitlint.config.js 文件</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">extends</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">@commitlint/config-conventional</span><span class="dl">"</span><span class="p">],</span>
<span class="p">};</span>
</code></pre></div></div>

<p>我们来看看，假设我们随便写一个 <code class="language-plaintext highlighter-rouge">git commit -m 'fixbug'</code> 会提示什么？</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901105602290.png" alt="image-20200901105602290" /></p>

<p>我们可以看到，这样的commit message是不合规范的，被拒绝提交，使用<code class="language-plaintext highlighter-rouge">git cz</code>或者<code class="language-plaintext highlighter-rouge">git commit</code>填写出上面规范的commit message才允许被提交，这里我们推荐使用<code class="language-plaintext highlighter-rouge">git cz</code></p>

<p>虽然，我们现在已经可以规范提交信息了，但是我们可能不喜欢默认的交互，例如，一个精简的描述就可以了，不希望再提示我去写详细的描述，那么就可以使用 <code class="language-plaintext highlighter-rouge">cz-customizable</code> 来进行定制。</p>

<h3 id="自定义提交说明">自定义提交说明</h3>

<h4 id="安装cz-customizable">安装cz-customizable</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>cz-customizable <span class="nt">-D</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">cz-customizable</code> 是可自定义的 <code class="language-plaintext highlighter-rouge">Commitizen</code> 插件，可帮助实现一致的 <code class="language-plaintext highlighter-rouge">commit message</code>。</p>

<p><code class="language-plaintext highlighter-rouge">cz-customizable</code> 适合大型团队去自定义 <code class="language-plaintext highlighter-rouge">scope</code>，和 <code class="language-plaintext highlighter-rouge">commit type</code>。</p>

<h4 id="新建-cz-configjs">新建 .cz-config.js</h4>

<p>在项目根目录下创建 <code class="language-plaintext highlighter-rouge">.cz-config.js</code> 文件：</p>

<p>以下为官方示例</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//.cz-config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">types</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">feat</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">feat:     A new feature</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">fix</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">fix:      A bug fix</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">docs</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">docs:     Documentation only changes</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">style</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span>
        <span class="dl">'</span><span class="s1">style:    Changes that do not affect the meaning of the code</span><span class="se">\n</span><span class="s1">            (white-space, formatting, missing semi-colons, etc)</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">refactor</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">refactor: A code change that neither fixes a bug nor adds a feature</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">perf</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">perf:     A code change that improves performance</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">test:     Adding missing tests</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">chore</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span>
        <span class="dl">'</span><span class="s1">chore:    Changes to the build process or auxiliary tools</span><span class="se">\n</span><span class="s1">            and libraries such as documentation generation</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">revert</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">revert:   Revert to a commit</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">{</span> <span class="na">value</span><span class="p">:</span> <span class="dl">'</span><span class="s1">WIP</span><span class="dl">'</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">WIP:      Work in progress</span><span class="dl">'</span> <span class="p">}</span>
  <span class="p">],</span>

  <span class="na">scopes</span><span class="p">:</span> <span class="p">[{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">accounts</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">admin</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">exampleScope</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">changeMe</span><span class="dl">'</span> <span class="p">}],</span>

  <span class="na">allowTicketNumber</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">isTicketNumberRequired</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">ticketNumberPrefix</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TICKET-</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">ticketNumberRegExp</span><span class="p">:</span> <span class="dl">'</span><span class="se">\\</span><span class="s1">d{1,5}</span><span class="dl">'</span><span class="p">,</span>

  <span class="c1">// it needs to match the value for field type. Eg.: 'fix'</span>
  <span class="cm">/*
  scopeOverrides: {
    fix: [
      {name: 'merge'},
      {name: 'style'},
      {name: 'e2eTest'},
      {name: 'unitTest'}
    ]
  },
  */</span>
  <span class="c1">// override the messages, defaults are as follows</span>
  <span class="na">messages</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Select the type of change that you're committing:</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">scope</span><span class="p">:</span> <span class="dl">'</span><span class="se">\n</span><span class="s1">Denote the SCOPE of this change (optional):</span><span class="dl">'</span><span class="p">,</span>
    <span class="c1">// used if allowCustomScopes is true</span>
    <span class="na">customScope</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Denote the SCOPE of this change:</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">subject</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Write a SHORT, IMPERATIVE tense description of the change:</span><span class="se">\n</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">body</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Provide a LONGER description of the change (optional). Use "|" to break new line:</span><span class="se">\n</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">breaking</span><span class="p">:</span> <span class="dl">'</span><span class="s1">List any BREAKING CHANGES (optional):</span><span class="se">\n</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">footer</span><span class="p">:</span> <span class="dl">'</span><span class="s1">List any ISSUES CLOSED by this change (optional). E.g.: #31, #34:</span><span class="se">\n</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">confirmCommit</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Are you sure you want to proceed with the commit above?</span><span class="dl">'</span>
  <span class="p">},</span>

  <span class="na">allowCustomScopes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">allowBreakingChanges</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">feat</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">fix</span><span class="dl">'</span><span class="p">],</span>
  <span class="c1">// skip any questions you want</span>
  <span class="na">skipQuestions</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">body</span><span class="dl">'</span><span class="p">],</span>

  <span class="c1">// limit subject length</span>
  <span class="na">subjectLimit</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>types: 描述修改的性质是什么，是bugfix还是feat，在这里进行定义。</li>
  <li>scopes: 定义之后，我们就可以通过上下键去选择 <code class="language-plaintext highlighter-rouge">scope</code></li>
  <li>scopeOverrides: 针对每一个type去定义scope</li>
  <li>allowBreakingChanges: 如上设置为 <code class="language-plaintext highlighter-rouge">['feat', 'fix']</code>，只有我们type选择了 <code class="language-plaintext highlighter-rouge">feat</code> 或者是 <code class="language-plaintext highlighter-rouge">fix</code>，才会询问我们 breaking message.</li>
  <li>allowCustomScopes: 设置为 true，在 scope 选择的时候，会有 <code class="language-plaintext highlighter-rouge">empty</code> 和 <code class="language-plaintext highlighter-rouge">custom</code> 可以选择，顾名思义，选择 <code class="language-plaintext highlighter-rouge">empty</code> 表示 <code class="language-plaintext highlighter-rouge">scope</code> 缺省，如果选择 <code class="language-plaintext highlighter-rouge">custom</code>，则可以自己输入信息</li>
  <li>skipQuestions: 指定跳过哪些步骤，例如跳过我们刚刚说的详细描述，设置其为 <code class="language-plaintext highlighter-rouge">scope: ['body']</code>，假设我们的项目也不会涉及到关联 issue，我们可以设置其为 <code class="language-plaintext highlighter-rouge">scope: ['body', 'footer']</code></li>
  <li>subjectLimit: 描述的长度限制</li>
</ul>

<p>这里我就不一一演示每个字段修改之后的情况了，根据字段的说明，建议如果想自定义提交规则，在本地进行修改验证，公司内部的代码库不需要管理 <code class="language-plaintext highlighter-rouge">issue</code>，另外，我不喜欢写长描述，所以我把 <code class="language-plaintext highlighter-rouge">body</code> 和 <code class="language-plaintext highlighter-rouge">footer</code> 给 <code class="language-plaintext highlighter-rouge">skip</code> 掉了。</p>

<h3 id="代码提交前检查">代码提交前检查</h3>

<p>现在，我们已经规范了 <code class="language-plaintext highlighter-rouge">commit</code> 信息，但是没有对提交的代码进行规范，在一个代码库中，经常出现2个空格/4个空格混用，有些地方写 <code class="language-plaintext highlighter-rouge">;</code>，有些不写 <code class="language-plaintext highlighter-rouge">;</code>，风格不统一。例如，我们希望提交到git库的代码，都能够通过 <code class="language-plaintext highlighter-rouge">eslint</code> 检查或者是通过测试。我们可以借助于 <code class="language-plaintext highlighter-rouge">pre-commit</code> 这个钩子来做这些事情。</p>

<h4 id="安装依赖">安装依赖</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>lint-staged <span class="nt">-D</span>
</code></pre></div></div>

<h4 id="修改packagejson使用pre-commit-的-hook">修改package.json使用pre-commit 的 hook</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"husky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"hooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"commit-msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"commitlint -E HUSKY_GIT_PARAMS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pre-commit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lint-staged"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="nl">"lint-staged"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"*.{vue,js}"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"vue-cli-service lint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prettier --write"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"git add"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre></div></div>

<p>这样配置之后，每次提交的时候，都会对要提交的文件（并不是对整个项目）进行 <code class="language-plaintext highlighter-rouge">prettier</code> 格式化和 <code class="language-plaintext highlighter-rouge">lint</code> 检查，都通过之后，才能 <code class="language-plaintext highlighter-rouge">commit</code> 成功。</p>

<h2 id="一切准备就绪将工程提交至github">一切准备就绪，将工程提交至github</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git cz
git push origin master
</code></pre></div></div>

<p>我们看下git log</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901113008281.png" alt="image-20200901113008281" /></p>

<h2 id="创建develop分支">创建develop分支</h2>

<p>基于origin/master分支创建develop分支</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin master:develop
</code></pre></div></div>

<p>切换到develop分支</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout develop
</code></pre></div></div>

<p>将develop分支推送到远程仓库</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin develop
</code></pre></div></div>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901115919843.png" alt="image-20200901115919843" /></p>

<h2 id="受保护的分支">受保护的分支</h2>

<p>我们可以看下下图：</p>

<p><img src="https://figure-b.ricardolsw.com/image/watermark.png" alt="gitflow" /></p>

<p>可以看到master、develop、release分支权限为Owner，开发者不能直接向这三个分支提交代码，而是需要提交一个pull request，通过code review之后才能被允许合并到该分支。</p>

<p>所以这三个分支是受保护的，在github项目仓库中找到Settings-Branches。</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901124704992.png" alt="image-20200901124704992" /></p>

<p>把该勾的都勾上，然后保存更改，develop分支同理。</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901124734816.png" alt="image-20200901124734816" /></p>

<p>这时候我们可以看到，这两个分支是受保护的。</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901124833357.png" alt="image-20200901124833357" /></p>

<h2 id="开发一个新功能feature分支">开发一个新功能：feature分支</h2>

<p>创建一个新功能分支：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin develop:feature/hello-world
</code></pre></div></div>

<blockquote>
  <p>基于远程develop分支创建功能模块为hello-world的feature分支。</p>
</blockquote>

<p>切换到新分支：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout feature/hello-world
</code></pre></div></div>

<p>接下来我们就可以在该分支下进行开发新功能了。</p>

<p>例如我在Home.vue新增了一行代码：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901125809866.png" alt="image-20200901125809866" /></p>

<p>功能开发完成后，我们需要把该分支提交推送到远程仓库：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add <span class="nb">.</span>
git cz
git push origin feature/hello-world
</code></pre></div></div>

<h2 id="提交一个pull-request">提交一个pull request</h2>

<p>我们新功能开发完成并且提交到远程仓库之后，需要合并到develop分支，但是上面讲到master、develop、release分支是后保护的，是禁止直接提交、合并代码的。所以我们需要提交一个pull request，通过code review之后才能经管理员合并至对应分支。</p>

<p>在页面点击New pull request来创建一个pull request：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901130415707.png" alt="image-20200901130415707" /></p>

<p>选择将feature/hello-world合并到develop：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901130505508.png" alt="image-20200901130505508" /></p>

<p>选择Reviewers代码审核人员：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901130823945.png" alt="image-20200901130823945" /></p>

<p>选择Assignees处理人：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901130951460.png" alt="image-20200901130951460" /></p>

<p>最后点击Create pull request提交即可。</p>

<p>然后我们可以在上面的Pull requests选项看到所有的pull request：</p>

<p><img src="https://figure-b.ricardolsw.com/image/fehelper-github-smec-cn-com-nbs35-gitflow-demo-pull-2-1598937094197.png" alt="fehelper-github-smec-cn-com-nbs35-gitflow-demo-pull-2-1598937094197" /></p>

<p>可以看到，在Reviewers下面人员右侧有一个小黄点，说明该pull request需要该人员进行代码审核，当审核通过之后，我们就可以合并pull request了（Merge pull request）。</p>

<p>审核人员视角：</p>

<p>通过Pull requests选项卡，打开一个pull request，选择Files changed选项就可以看到提交者所有的代码改动，然后点击Review changes按钮进行审批操作，这里我们选择通过Approve，点击Submit review提交。</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901131623367.png" alt="image-20200901131623367" /></p>

<p>当所有审核都通过了，管理就可以进行合并操作了。</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901132613075.png" alt="image-20200901132613075" /></p>

<p>我们可以看到develop的提交记录：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901132716926.png" alt="image-20200901132716926" /></p>

<p>合并成功之后我们就可以删除feature/hello-world分支了。</p>

<h2 id="预发布分支release">预发布分支：release</h2>

<p>当一期所有功能开发完成后，就需要准备发布上线了，在上线之前我们会有一个测试版本，用于上线前的集成测试，所以我们需要基于预上线版本创建一个release分支，例如我们要发布1.0.0版本，就需要基于develop分支创建一个release/v1.0.0分支。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin develop:release/v1.0.0
</code></pre></div></div>

<p>切换到release分支并提交到远程：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout release/v1.0.0
git push origin release/v1.0.0
</code></pre></div></div>

<p>同样，我们也要把release分支开启保护，禁止开发人员向其提交代码。</p>

<h2 id="bugfix分支">bugfix分支</h2>

<p>当release分支测试出现bug，由管理员基于release分支创建bugfix/<bug名称>分支，然后分配相应的开发人员进行修复。</bug名称></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch origin release/v1.0.0:bugfix/fix-hello-world
git checkout bugfix/fix-hello-world
git push origin bugfix/fix-hello-world
</code></pre></div></div>

<p>当bug修复完成后，同样也需要提交一个pull request合并到release分支，这个过程参考上面的feature分支提交pull request。</p>

<h2 id="发布上线打tag">发布上线打tag</h2>

<p>当所有功能开发完成，release分支功能测试通过，达到上线要求就可以发布上线了，这时候我们需要把release分支合并到master分支，也是同样提交一个pull request。</p>

<p>每一次向master合并的代码，都要打上tag，方便追溯：</p>

<p>点击release选项：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901141330066.png" alt="image-20200901141330066" /></p>

<p>创建一个release，如果是移动端，我们还需要上传该版本的安装包：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901141354210.png" alt="image-20200901141354210" /></p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901141504968.png" alt="image-20200901141504968" /></p>

<p>最后点击Publish release即可。可以看到github也同步帮我们创建了tag：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901141612609.png" alt="" /></p>

<h2 id="hotfix分支">hotfix分支</h2>

<p>原理同bugfix分支，只不过他是用于修复线上版本出现的bug，需要基于出现问题的tag来创建hotfix分支和release分支，当bug修复之后，同样pull request到release分支进行测试。</p>

<h2 id="所有masterrelease分支的更新管理员都要同步更新到develop分支上同时开发人员每次在开发前都需要从develop拉取最新的代码">所有master、release分支的更新，管理员都要同步更新到develop分支上，同时开发人员每次在开发前，都需要从develop拉取最新的代码。</h2>

<h2 id="cicd">CI/CD</h2>

<p>流水线基于tag来构建，当我在github创建一个tag的时候就会触发流水线：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901144652231.png" alt="image-20200901144652231" /></p>

<p>构建出来的版本命名也很容易让人理解：</p>

<p><img src="https://figure-b.ricardolsw.com/image/image-20200901144742469.png" alt="image-20200901144742469" /></p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#git" class="page__taxonomy-item" rel="tag">git</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#%E5%B7%A5%E5%85%B7" class="page__taxonomy-item" rel="tag">工具</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-07-19">July 19, 2021</time></p>
        
      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=gitflow%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B%20%2F%25E5%25B7%25A5%25E5%2585%25B7%2Fgitflow%25E6%25B5%2581%25E7%25A8%258B%25E7%25A4%25BA%25E4%25BE%258B%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=%2F%25E5%25B7%25A5%25E5%2585%25B7%2Fgitflow%25E6%25B5%2581%25E7%25A8%258B%25E7%25A4%25BA%25E4%25BE%258B%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=%2F%25E5%25B7%25A5%25E5%2585%25B7%2Fgitflow%25E6%25B5%2581%25E7%25A8%258B%25E7%25A4%25BA%25E4%25BE%258B%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/%E5%B7%A5%E5%85%B7/%E7%95%AA%E5%A4%96%E7%AF%87-%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2-GitHub-Actions/" class="pagination--pager" title="番外篇：自动部署（GitHub Actions）
">Previous</a>
    
    
      <a href="/%E6%97%85%E6%B8%B8/%E9%87%8D%E5%BA%86/" class="pagination--pager" title="清明假期重庆游
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/%E6%97%85%E6%B8%B8/%E9%87%8D%E5%BA%86/" rel="permalink">清明假期重庆游
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">









</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/%E5%B7%A5%E5%85%B7/%E7%95%AA%E5%A4%96%E7%AF%87-%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2-GitHub-Actions/" rel="permalink">番外篇：自动部署（GitHub Actions）
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/vue/Vue3%E5%89%8D%E4%BC%A0-%E5%88%9B%E5%BB%BA%E5%B7%A5%E7%A8%8B%E6%97%B6%E5%BF%85%E9%A1%BB%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B/" rel="permalink">Vue3前传：创建工程时必须要做的事
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  10 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">前言

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/%E6%9C%8D%E5%8A%A1%E5%99%A8/Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="permalink">Nginx负载均衡
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/LswRicardo" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/RicardoLSW" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/_ricardolsw" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 让我留在你身边. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







    <canvas id="cas" width="1680" height="567" style="position: fixed; z-index: -1;"></canvas>
    <script src="/assets/js/canvas.js" type="text/javascript"></script>
  </body>
</html>
